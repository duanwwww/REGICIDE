# 需求文档

---

### 项目概述
一款由python开发的卡牌游戏，使用命令行进行交互，要求能够完整复现REGICIDE原作的游戏机制，实现单人或同机多人的REGICIDE游戏。

### 用户需求
1. 实现了正确的REGICIDE游戏逻辑
2. 命令行能够展示所有需要的信息
3. 能够通过命令行进行正常的游戏操作
4. 具有较强的可拓展性

### 系统功能需求
1. 显示
   - 1.1 应当以合适的方式显示当前回合所处的阶段
   - 1.2 应当以合适的方式显示当前正在操作的玩家
   - 1.3 玩家应该在任何时候都能清晰地看到自己的手牌，但是又不看到其他人的
   - 1.4 对于同机多人的玩法，玩家应当可以便捷地切换视角，以供不同玩家查看自己的手牌，但是行动的切换应当是自动的
   - 1.5 玩家可以看到自己手牌点数总和、摸牌堆弃牌剩余张数、其他目标手牌张数信息
   - 1.6 命令行应该时刻展示所有直观的信息，包括各自的手牌数，boss的花色、攻击力和血量，剩余boss张数，牌堆剩余数量

2. 对局逻辑
   - 2.1 回合开始，结算回合开始效果（此任务暂无）
   - 2.2 防御buff更新计数器（此任务暂无）
   - 2.3 使用角色技能（此任务暂无）
   - 2.4 出牌
   - 2.5 结算卡牌效果
   - 2.6 计算卡牌伤害
   - 2.7 造成伤害
   - 2.8 判断敌人是否存活，是否有亡语
   - 2.9 判断是否获胜
   - 2.10 攻击buff更新计数器（此任务暂无）
   - 2.11 切换玩家，结算与切换玩家相关的效果
   - 2.12 回合结束

3. 局内合法操作
   - 3.1 玩家可以跳过出牌阶段
   - 3.2 玩家可以额外弃牌
   

4. 局内合法性判断
   - 4.1 可以正确判断玩家出牌是否合法，并提示一次出牌的效果
   - 4.2 玩家的非法出牌应当被提示和禁止
   - 4.3 玩家的合法出牌需要被二次确认

5. 底层实现
   - 5.1 类之间不应当有紧密的耦合
   - 5.2 所有在命令行上输出任何信息的代码都应当被封装到函数里，以便替换成任何画图函数

6. 整体思路
   - 6.1 游戏应当具有随机性
   - 6.2 boss应当自动切换


7. 鬼牌
   - 7.1 应当可以设置游戏中鬼牌的张数，在单人游戏时，玩家应当不加入鬼牌，但在任何一个出牌阶段中都可以使用鬼牌（最多两次），鬼牌的使用次数应当被记录
   - 7.2 鬼牌应当可以正确地结算

### 数据需求
所有信息本地存储即可

---
1. 单人游戏
   + 实现出牌与造成伤害的逻辑
   + 判断boss的死亡并切换下一个boss
   + 判断荣誉消灭，处理牌堆
   + 实现四种花色的逻辑
   + 判断怎样出牌是合法的
   + 实现鬼牌的逻辑
   + 命令行展示信息
2. 多人同机
   + 游戏能够正确地初始化
   + 实现自动切换玩家的逻辑
   + 实现切换视角的逻辑